{
	"info": {
		"_postman_id": "axn-group-api-collection",
		"name": "AXN Group API Collection",
		"description": "Complete API collection for AXN Group MLM system with role-based authentication and approval workflows. Status values: pending → approved/rejected.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{auth_token}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000/api",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "admin_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "leader_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "agent_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "shop_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "bank_transfer_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Admin Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    if (responseJson.success && responseJson.data.token) {",
									"        pm.collectionVariables.set('admin_token', responseJson.data.token);",
									"        pm.collectionVariables.set('auth_token', responseJson.data.token);",
									"        pm.collectionVariables.set('user_id', responseJson.data.user.id);",
									"        console.log('Admin token saved:', responseJson.data.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"mobile\": \"9999999999\",\n    \"password\": \"password\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login/admin",
							"host": ["{{base_url}}"],
							"path": ["auth", "login", "admin"]
						}
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"mobile\": \"9999999999\",\n    \"password\": \"password\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login/admin",
									"host": ["{{base_url}}"],
									"path": ["auth", "login", "admin"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"Admin login successful\",\n    \"data\": {\n        \"user\": {\n            \"id\": 1,\n            \"unique_id\": \"AXN00001\",\n            \"name\": \"Admin User\",\n            \"mobile\": \"9999999999\",\n            \"email\": null,\n            \"role\": \"admin\",\n            \"is_blocked\": false,\n            \"created_at\": \"2025-01-01T00:00:00.000000Z\",\n            \"updated_at\": \"2025-01-01T00:00:00.000000Z\"\n        },\n        \"token\": \"1|abcdefg123456789\",\n        \"token_type\": \"Bearer\"\n    }\n}"
						}
					]
				},
				{
					"name": "Leader Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    if (responseJson.success && responseJson.data.token) {",
									"        pm.collectionVariables.set('leader_token', responseJson.data.token);",
									"        pm.collectionVariables.set('auth_token', responseJson.data.token);",
									"        pm.collectionVariables.set('user_id', responseJson.data.user.id);",
									"        console.log('Leader token saved:', responseJson.data.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"mobile\": \"8888888888\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login/leader",
							"host": ["{{base_url}}"],
							"path": ["auth", "login", "leader"]
						}
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"mobile\": \"8888888888\",\n    \"password\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login/leader",
									"host": ["{{base_url}}"],
									"path": ["auth", "login", "leader"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"Login successful\",\n    \"data\": {\n        \"user\": {\n            \"id\": 2,\n            \"unique_id\": \"AXN00002\",\n            \"name\": \"Team Leader\",\n            \"mobile\": \"8888888888\",\n            \"email\": \"leader@example.com\",\n            \"role\": \"leader\",\n            \"referral_code\": null,\n            \"is_blocked\": false,\n            \"wallet_balance\": \"0.00\",\n            \"created_at\": \"2025-01-01T00:00:00.000000Z\",\n            \"updated_at\": \"2025-01-01T00:00:00.000000Z\"\n        },\n        \"token\": \"2|xyz789def456\",\n        \"token_type\": \"Bearer\"\n    }\n}"
						}
					]
				},
				{
					"name": "Agent Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    if (responseJson.success && responseJson.data.token) {",
									"        pm.collectionVariables.set('agent_token', responseJson.data.token);",
									"        pm.collectionVariables.set('auth_token', responseJson.data.token);",
									"        pm.collectionVariables.set('user_id', responseJson.data.user.id);",
									"        console.log('Agent token saved:', responseJson.data.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"mobile\": \"7777777777\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login/agent",
							"host": ["{{base_url}}"],
							"path": ["auth", "login", "agent"]
						}
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"mobile\": \"7777777777\",\n    \"password\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login/agent",
									"host": ["{{base_url}}"],
									"path": ["auth", "login", "agent"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"Login successful\",\n    \"data\": {\n        \"user\": {\n            \"id\": 3,\n            \"unique_id\": \"AXN00003\",\n            \"name\": \"Sales Agent\",\n            \"mobile\": \"7777777777\",\n            \"email\": \"agent@example.com\",\n            \"role\": \"agent\",\n            \"referral_code\": \"REF001\",\n            \"is_blocked\": false,\n            \"wallet_balance\": \"0.00\",\n            \"created_at\": \"2025-01-01T00:00:00.000000Z\",\n            \"updated_at\": \"2025-01-01T00:00:00.000000Z\"\n        },\n        \"token\": \"3|qwe456rty789\",\n        \"token_type\": \"Bearer\"\n    }\n}"
						}
					]
				},
				{
					"name": "Register Leader (Admin Only)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Team Leader\",\n    \"mobile\": \"8888888888\",\n    \"email\": \"leader@axngroup.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register/leader",
							"host": ["{{base_url}}"],
							"path": ["auth", "register", "leader"]
						}
					},
					"response": []
				},
				{
					"name": "Register Agent (Leader Only)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Sales Agent\",\n    \"mobile\": \"7777777777\",\n    \"email\": \"agent@axngroup.com\",\n    \"password\": \"password123\",\n    \"referral_code\": \"REF001\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register/agent",
							"host": ["{{base_url}}"],
							"path": ["auth", "register", "agent"]
						}
					},
					"response": []
				},
				{
					"name": "Get Profile",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": ["{{base_url}}"],
							"path": ["auth", "profile"]
						}
					},
					"response": [
						{
							"name": "Agent/Leader Profile Response",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{auth_token}}", "type": "string"}]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/auth/profile",
									"host": ["{{base_url}}"],
									"path": ["auth", "profile"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": 2,\n        \"unique_id\": \"AXN00002\",\n        \"name\": \"Sudipto\",\n        \"mobile\": \"8509435513\",\n        \"email\": null,\n        \"role\": \"agent\",\n        \"referral_code\": null,\n        \"is_blocked\": false,\n        \"wallet_balance\": \"0.00\",\n        \"created_at\": \"2025-08-16T20:26:41.000000Z\",\n        \"updated_at\": \"2025-08-16T20:26:41.000000Z\",\n        \"profile\": null\n    }\n}"
						}
					]
				},
				{
					"name": "Logout",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": ["{{base_url}}"],
							"path": ["auth", "logout"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Wallet",
			"item": [
				{
					"name": "Get Balance",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/wallet/balance",
							"host": ["{{base_url}}"],
							"path": ["wallet", "balance"]
						}
					},
					"response": []
				},
				{
					"name": "Get Transactions",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/wallet/transactions",
							"host": ["{{base_url}}"],
							"path": ["wallet", "transactions"]
						}
					},
					"response": []
				},
				{
					"name": "Request Withdrawal (Agent/Leader)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"amount\": 1000.50\n}"
						},
						"url": {
							"raw": "{{base_url}}/wallet/withdraw",
							"host": ["{{base_url}}"],
							"path": ["wallet", "withdraw"]
						}
					},
					"response": []
				},
				{
					"name": "Get Withdrawals",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/wallet/withdrawals",
							"host": ["{{base_url}}"],
							"path": ["wallet", "withdrawals"]
						}
					},
					"response": []
				},
				{
					"name": "Credit Wallet (Leader/Admin)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": 3,\n    \"amount\": 500.00,\n    \"reference_type\": \"bank_transfer\",\n    \"reference_id\": 1,\n    \"remark\": \"Commission credit\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/wallet/credit",
							"host": ["{{base_url}}"],
							"path": ["wallet", "credit"]
						}
					},
					"response": []
				},
				{
					"name": "Get Payout History (Agent)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{agent_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/wallet/payouts?type=onboarding_payout",
							"host": ["{{base_url}}"],
							"path": ["wallet", "payouts"],
							"query": [
								{
									"key": "type",
									"value": "onboarding_payout",
									"description": "Filter by payout type: onboarding_payout or bank_transfer_payout"
								}
							]
						}
					},
					"response": [
						{
							"name": "Payout History Response",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{agent_token}}", "type": "string"}]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/wallet/payouts",
									"host": ["{{base_url}}"],
									"path": ["wallet", "payouts"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"summary\": {\n            \"total_onboarding_payout\": 440,\n            \"total_bank_transfer_payout\": 330,\n            \"total_payout\": 770,\n            \"this_month_payout\": 200\n        },\n        \"transactions\": [\n            {\n                \"id\": 1,\n                \"wallet_id\": 1,\n                \"type\": \"credit\",\n                \"amount\": \"240.00\",\n                \"reference_type\": \"onboarding_payout\",\n                \"reference_id\": 5,\n                \"remark\": \"Onboarding payout commission - ₹240\",\n                \"created_at\": \"2025-08-17T10:30:00.000000Z\"\n            }\n        ],\n        \"grouped_by_month\": {\n            \"2025-08\": [\n                {\n                    \"amount\": \"240.00\",\n                    \"reference_type\": \"onboarding_payout\",\n                    \"created_at\": \"2025-08-17T10:30:00.000000Z\"\n                }\n            ]\n        }\n    }\n}"
						}
					]
				}
			]
		},
		{
			"name": "Shop",
			"item": [
				{
					"name": "Create Shop (Agent Only)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const responseJson = pm.response.json();",
									"    if (responseJson.success && responseJson.data.id) {",
									"        pm.collectionVariables.set('shop_id', responseJson.data.id);",
									"        console.log('Shop ID saved:', responseJson.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{agent_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customer_name\": \"Shop Owner\",\n    \"customer_mobile\": \"9876543210\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/shops",
							"host": ["{{base_url}}"],
							"path": ["shops"]
						}
					},
					"response": []
				},
				{
					"name": "Get Agent's Shops",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/shops/agent",
							"host": ["{{base_url}}"],
							"path": ["shops", "agent"]
						}
					},
					"response": []
				},
				{
					"name": "Get Leader's Shops",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/shops/leader",
							"host": ["{{base_url}}"],
							"path": ["shops", "leader"]
						}
					},
					"response": []
				},
				{
					"name": "Get Shop Details",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/shops/{{shop_id}}",
							"host": ["{{base_url}}"],
							"path": ["shops", "{{shop_id}}"]
						}
					},
					"response": []
				},
				{
					"name": "Get Pending Shops for Admin",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/shops/admin/pending",
							"host": ["{{base_url}}"],
							"path": ["shops", "admin", "pending"]
						}
					},
					"response": []
				},
				{
					"name": "Admin Approval for Shop",
					"request": {
						"description": "STREAMLINED WORKFLOW: Admin directly approves/rejects shop onboarding requests without leader pre-approval. Status flows: pending → approved/rejected. Triggers payout calculation on approval.",
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"approved\",\n    \"admin_remark\": \"Approved for payout calculation\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/shops/admin/{{shop_id}}/approval",
							"host": ["{{base_url}}"],
							"path": ["shops", "admin", "{{shop_id}}", "approval"]
						}
					},
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    if (responseJson.success && responseJson.data.id) {",
									"        pm.collectionVariables.set('shop_id', responseJson.data.id);",
									"        console.log('Shop ID saved:', responseJson.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"response": [
						{
							"name": "Admin Approval Success Response",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{admin_token}}", "type": "string"}]
								},
								"method": "PUT",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"admin_approved\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/shops/admin/1/approval",
									"host": ["{{base_url}}"],
									"path": ["shops", "admin", "1", "approval"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"Shop approval updated successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"agent_id\": 3,\n        \"customer_name\": \"Shop Owner\",\n        \"customer_mobile\": \"9876543210\",\n        \"status\": \"approved\",\n        \"reject_remark\": null,\n        \"created_at\": \"2025-08-17T10:00:00.000000Z\",\n        \"updated_at\": \"2025-08-17T10:30:00.000000Z\",\n        \"agent\": {\n            \"id\": 3,\n            \"name\": \"Sales Agent\",\n            \"mobile\": \"7777777777\",\n            \"parent\": {\n                \"id\": 2,\n                \"name\": \"Team Leader\",\n                \"mobile\": \"8888888888\"\n            }\n        }\n    }\n}"
						},
						{
							"name": "Rejection Response Example",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{admin_token}}", "type": "string"}]
								},
								"method": "PUT",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"rejected\",\n    \"admin_remark\": \"Insufficient documentation provided\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/shops/admin/1/approval",
									"host": ["{{base_url}}"],
									"path": ["shops", "admin", "1", "approval"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"Shop approval updated successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"agent_id\": 3,\n        \"customer_name\": \"Shop Owner\",\n        \"customer_mobile\": \"9876543210\",\n        \"status\": \"rejected\",\n        \"reject_remark\": \"Insufficient documentation provided\",\n        \"created_at\": \"2025-08-17T10:00:00.000000Z\",\n        \"updated_at\": \"2025-08-17T10:35:00.000000Z\",\n        \"agent\": {\n            \"id\": 3,\n            \"name\": \"Sales Agent\",\n            \"mobile\": \"7777777777\",\n            \"parent\": {\n                \"id\": 2,\n                \"name\": \"Team Leader\",\n                \"mobile\": \"8888888888\"\n            }\n        }\n    }\n}"
						}
					]
				}
			]
		},
		{
			"name": "Bank Transfer",
			"item": [
				{
					"name": "Create Bank Transfer (Agent Only)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const responseJson = pm.response.json();",
									"    if (responseJson.success && responseJson.data.id) {",
									"        pm.collectionVariables.set('bank_transfer_id', responseJson.data.id);",
									"        console.log('Bank Transfer ID saved:', responseJson.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{agent_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customer_name\": \"Customer Name\",\n    \"customer_mobile\": \"9876543210\",\n    \"shop_name\": \"ABC Store\",\n    \"amount\": 150000.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/bank-transfers",
							"host": ["{{base_url}}"],
							"path": ["bank-transfers"]
						}
					},
					"response": []
				},
				{
					"name": "Get Agent's Bank Transfers",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/bank-transfers/agent",
							"host": ["{{base_url}}"],
							"path": ["bank-transfers", "agent"]
						}
					},
					"response": []
				},
				{
					"name": "Get Leader's Bank Transfers",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/bank-transfers/leader",
							"host": ["{{base_url}}"],
							"path": ["bank-transfers", "leader"]
						}
					},
					"response": []
				},
				{
					"name": "Get Bank Transfer Details",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/bank-transfers/{{bank_transfer_id}}",
							"host": ["{{base_url}}"],
							"path": ["bank-transfers", "{{bank_transfer_id}}"]
						}
					},
					"response": []
				},
				{
					"name": "Get Pending Bank Transfers for Admin",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/bank-transfers/admin/pending",
							"host": ["{{base_url}}"],
							"path": ["bank-transfers", "admin", "pending"]
						}
					},
					"response": []
				},
				{
					"name": "Admin Approval for Bank Transfer",
					"request": {
						"description": "STREAMLINED WORKFLOW: Admin directly approves/rejects bank transfer requests without leader pre-approval. Status flows: pending → approved/rejected. Triggers payout calculation on approval based on monthly volume.",
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"approved\",\n    \"admin_remark\": \"Approved for payout calculation\",\n    \"amount_change_remark\": \"Amount verified and approved\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/bank-transfers/admin/{{bank_transfer_id}}/approval",
							"host": ["{{base_url}}"],
							"path": ["bank-transfers", "admin", "{{bank_transfer_id}}", "approval"]
						}
					},
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    if (responseJson.success && responseJson.data.id) {",
									"        pm.collectionVariables.set('bank_transfer_id', responseJson.data.id);",
									"        console.log('Bank Transfer ID saved:', responseJson.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"response": [
						{
							"name": "Admin Approval Success Response",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{admin_token}}", "type": "string"}]
								},
								"method": "PUT",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"admin_approved\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/bank-transfers/admin/1/approval",
									"host": ["{{base_url}}"],
									"path": ["bank-transfers", "admin", "1", "approval"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"Bank transfer approval updated successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"agent_id\": 3,\n        \"shop_id\": 1,\n        \"customer_name\": \"Customer Name\",\n        \"customer_mobile\": \"9876543210\",\n        \"amount\": \"150000.00\",\n        \"status\": \"approved\",\n        \"amount_change_remark\": \"Amount verified and approved\",\n        \"reject_remark\": null,\n        \"created_at\": \"2025-08-17T10:00:00.000000Z\",\n        \"updated_at\": \"2025-08-17T10:30:00.000000Z\",\n        \"agent\": {\n            \"id\": 3,\n            \"name\": \"Sales Agent\",\n            \"mobile\": \"7777777777\",\n            \"parent\": {\n                \"id\": 2,\n                \"name\": \"Team Leader\",\n                \"mobile\": \"8888888888\"\n            }\n        },\n        \"shop\": {\n            \"id\": 1,\n            \"customer_name\": \"Shop Owner\",\n            \"customer_mobile\": \"9876543210\",\n            \"status\": \"approved\"\n        }\n    }\n}"
						}
					]
				}
			]
		},
		{
			"name": "Reward Pass",
			"item": [
				{
					"name": "Create Reward Pass (Agent Only)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{agent_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customer_name\": \"John Doe\",\n    \"customer_mobile\": \"9876543210\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/reward-passes",
							"host": ["{{base_url}}"],
							"path": ["reward-passes"]
						},
						"description": "Agent creates a reward pass for a customer. Only requires customer name and mobile number."
					},
					"response": [
						{
							"name": "Reward Pass Created Successfully",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"customer_name\": \"John Doe\",\n    \"customer_mobile\": \"9876543210\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/reward-passes",
									"host": ["{{base_url}}"],
									"path": ["reward-passes"]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Reward pass created successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"agent_id\": 3,\n        \"customer_name\": \"John Doe\",\n        \"customer_mobile\": \"9876543210\",\n        \"status\": \"pending\",\n        \"reject_remark\": null,\n        \"created_at\": \"2025-08-27T15:45:00.000000Z\",\n        \"updated_at\": \"2025-08-27T15:45:00.000000Z\",\n        \"agent\": {\n            \"id\": 3,\n            \"name\": \"Sales Agent\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Get Agent's Reward Passes",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{agent_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/reward-passes/agent",
							"host": ["{{base_url}}"],
							"path": ["reward-passes", "agent"]
						},
						"description": "Get all reward passes created by the current agent."
					},
					"response": []
				},
				{
					"name": "Get Leader's Reward Passes",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{leader_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/reward-passes/leader",
							"host": ["{{base_url}}"],
							"path": ["reward-passes", "leader"]
						},
						"description": "Leader views all reward passes created by agents under them."
					},
					"response": []
				},
				{
					"name": "Get Reward Pass Details",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/reward-passes/1",
							"host": ["{{base_url}}"],
							"path": ["reward-passes", "1"]
						},
						"description": "Get details of a specific reward pass."
					},
					"response": []
				},
				{
					"name": "Get All Reward Passes (Admin)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/reward-passes/admin/all?status=pending&per_page=20",
							"host": ["{{base_url}}"],
							"path": ["reward-passes", "admin", "all"],
							"query": [
								{
									"key": "status",
									"value": "pending",
									"description": "Filter by status: pending, approved, rejected"
								},
								{
									"key": "agent_id",
									"value": "3",
									"description": "Filter by specific agent ID",
									"disabled": true
								},
								{
									"key": "leader_id",
									"value": "2",
									"description": "Filter by specific leader ID",
									"disabled": true
								},
								{
									"key": "date_from",
									"value": "2025-08-01",
									"description": "Filter from date",
									"disabled": true
								},
								{
									"key": "date_to",
									"value": "2025-08-31",
									"description": "Filter to date",
									"disabled": true
								},
								{
									"key": "search",
									"value": "John",
									"description": "Search by customer name, mobile, or agent name",
									"disabled": true
								},
								{
									"key": "per_page",
									"value": "20",
									"description": "Items per page (1-100)"
								}
							]
						},
						"description": "Admin views all reward passes with filtering options."
					},
					"response": []
				},
				{
					"name": "Get Pending Reward Passes for Admin",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/reward-passes/admin/pending",
							"host": ["{{base_url}}"],
							"path": ["reward-passes", "admin", "pending"]
						},
						"description": "Get all pending reward passes for admin approval."
					},
					"response": []
				},
				{
					"name": "Admin Approval for Reward Pass",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"approved\",\n    \"admin_remark\": \"Customer verified and approved for reward pass\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/reward-passes/admin/1/approval",
							"host": ["{{base_url}}"],
							"path": ["reward-passes", "admin", "1", "approval"]
						},
						"description": "Admin approves or rejects a reward pass application."
					},
					"response": [
						{
							"name": "Reward Pass Approved",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"approved\",\n    \"admin_remark\": \"Customer verified\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/reward-passes/admin/1/approval",
									"host": ["{{base_url}}"],
									"path": ["reward-passes", "admin", "1", "approval"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Reward pass approved successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"agent_id\": 3,\n        \"customer_name\": \"John Doe\",\n        \"customer_mobile\": \"9876543210\",\n        \"status\": \"approved\",\n        \"reject_remark\": null,\n        \"created_at\": \"2025-08-27T15:45:00.000000Z\",\n        \"updated_at\": \"2025-08-27T16:00:00.000000Z\",\n        \"agent\": {\n            \"id\": 3,\n            \"name\": \"Sales Agent\",\n            \"parent\": {\n                \"id\": 2,\n                \"name\": \"Team Leader\"\n            }\n        }\n    }\n}"
						},
						{
							"name": "Reward Pass Rejected",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"rejected\",\n    \"admin_remark\": \"Invalid mobile number provided\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/reward-passes/admin/1/approval",
									"host": ["{{base_url}}"],
									"path": ["reward-passes", "admin", "1", "approval"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Reward pass rejected successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"agent_id\": 3,\n        \"customer_name\": \"John Doe\",\n        \"customer_mobile\": \"9876543210\",\n        \"status\": \"rejected\",\n        \"reject_remark\": \"Invalid mobile number provided\",\n        \"created_at\": \"2025-08-27T15:45:00.000000Z\",\n        \"updated_at\": \"2025-08-27T16:00:00.000000Z\",\n        \"agent\": {\n            \"id\": 3,\n            \"name\": \"Sales Agent\",\n            \"parent\": {\n                \"id\": 2,\n                \"name\": \"Team Leader\"\n            }\n        }\n    }\n}"
						}
					]
				}
			]
		},
		{
			"name": "Statistics",
			"item": [
				{
					"name": "Agent Statistics",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{agent_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/statistics/agent",
							"host": ["{{base_url}}"],
							"path": ["api", "statistics", "agent"]
						},
						"description": "Get comprehensive statistics for the authenticated agent including shop onboarding, bank transfers, and reward passes with counts by status."
					},
					"response": [
						{
							"name": "Agent Statistics Success",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/statistics/agent",
									"host": ["{{base_url}}"],
									"path": ["api", "statistics", "agent"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"agent_info\": {\n            \"id\": 3,\n            \"name\": \"Sales Agent\",\n            \"email\": \"agent@example.com\",\n            \"leader\": {\n                \"id\": 2,\n                \"name\": \"Team Leader\"\n            }\n        },\n        \"shop_onboarding\": {\n            \"total\": 45,\n            \"approved\": 30,\n            \"pending\": 10,\n            \"rejected\": 5,\n            \"this_month\": 8\n        },\n        \"bank_transfers\": {\n            \"total\": 25,\n            \"approved\": 20,\n            \"pending\": 3,\n            \"rejected\": 2,\n            \"total_amount\": \"750000.00\",\n            \"this_month\": 5,\n            \"this_month_amount\": \"125000.00\"\n        },\n        \"reward_passes\": {\n            \"total\": 15,\n            \"approved\": 12,\n            \"pending\": 2,\n            \"rejected\": 1,\n            \"this_month\": 3\n        },\n        \"summary\": {\n            \"total_activities\": 85,\n            \"total_approved\": 62,\n            \"total_pending\": 15,\n            \"total_rejected\": 8,\n            \"success_rate\": 72.94\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Leader Team Statistics",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{leader_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/statistics/leader",
							"host": ["{{base_url}}"],
							"path": ["api", "statistics", "leader"]
						},
						"description": "Get comprehensive team statistics for the authenticated leader including aggregated data from all assigned agents."
					},
					"response": [
						{
							"name": "Leader Statistics Success",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/statistics/leader",
									"host": ["{{base_url}}"],
									"path": ["api", "statistics", "leader"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"leader_info\": {\n            \"id\": 2,\n            \"name\": \"Team Leader\",\n            \"email\": \"leader@example.com\",\n            \"total_agents\": 5\n        },\n        \"shop_onboarding\": {\n            \"total\": 150,\n            \"approved\": 120,\n            \"pending\": 20,\n            \"rejected\": 10,\n            \"this_month\": 25\n        },\n        \"bank_transfers\": {\n            \"total\": 80,\n            \"approved\": 65,\n            \"pending\": 10,\n            \"rejected\": 5,\n            \"total_amount\": \"2450000.00\",\n            \"this_month\": 15,\n            \"this_month_amount\": \"450000.00\"\n        },\n        \"reward_passes\": {\n            \"total\": 60,\n            \"approved\": 50,\n            \"pending\": 8,\n            \"rejected\": 2,\n            \"this_month\": 12\n        },\n        \"summary\": {\n            \"total_activities\": 290,\n            \"total_approved\": 235,\n            \"total_pending\": 38,\n            \"total_rejected\": 17,\n            \"success_rate\": 81.03\n        },\n        \"agent_performance\": [\n            {\n                \"agent_id\": 3,\n                \"agent_name\": \"Sales Agent\",\n                \"shops\": {\n                    \"total\": 45,\n                    \"approved\": 30\n                },\n                \"bank_transfers\": {\n                    \"total\": 25,\n                    \"approved\": 20,\n                    \"amount\": \"750000.00\"\n                },\n                \"reward_passes\": {\n                    \"total\": 15,\n                    \"approved\": 12\n                },\n                \"total_activities\": 85,\n                \"total_approved\": 62,\n                \"success_rate\": 72.94\n            },\n            {\n                \"agent_id\": 4,\n                \"agent_name\": \"Support Agent\",\n                \"shops\": {\n                    \"total\": 35,\n                    \"approved\": 28\n                },\n                \"bank_transfers\": {\n                    \"total\": 20,\n                    \"approved\": 18,\n                    \"amount\": \"600000.00\"\n                },\n                \"reward_passes\": {\n                    \"total\": 12,\n                    \"approved\": 10\n                },\n                \"total_activities\": 67,\n                \"total_approved\": 56,\n                \"success_rate\": 83.58\n            }\n        ]\n    }\n}"
						}
					]
				}
			]
		},
		{
			"name": "Profile",
			"item": [
				{
					"name": "Get Profile",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/profile",
							"host": ["{{base_url}}"],
							"path": ["profile"]
						}
					},
					"response": []
				},
				{
					"name": "Update Profile",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "aadhar_number",
									"value": "123456789012",
									"type": "text"
								},
								{
									"key": "pan_number",
									"value": "ABCDE1234F",
									"type": "text"
								},
								{
									"key": "address",
									"value": "Complete address",
									"type": "text"
								},
								{
									"key": "dob",
									"value": "1990-01-01",
									"type": "text"
								},
								{
									"key": "agent_photo",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/profile/update",
							"host": ["{{base_url}}"],
							"path": ["profile", "update"]
						}
					},
					"response": []
				},
				{
					"name": "Add Bank Details",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"account_holder_name\": \"Account Holder\",\n    \"bank_name\": \"Bank Name\",\n    \"account_number\": \"1234567890\",\n    \"confirm_account_number\": \"1234567890\",\n    \"ifsc_code\": \"BANK0001234\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/profile/bank-details",
							"host": ["{{base_url}}"],
							"path": ["profile", "bank-details"]
						}
					},
					"response": []
				},
				{
					"name": "Get Bank Details",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/profile/bank-details",
							"host": ["{{base_url}}"],
							"path": ["profile", "bank-details"]
						}
					},
					"response": []
				},
				{
					"name": "Update Bank Details",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"account_holder_name\": \"Updated Holder\",\n    \"bank_name\": \"Updated Bank\",\n    \"account_number\": \"9876543210\",\n    \"confirm_account_number\": \"9876543210\",\n    \"ifsc_code\": \"BANK0009876\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/profile/bank-details/1",
							"host": ["{{base_url}}"],
							"path": ["profile", "bank-details", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Delete Bank Details",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/profile/bank-details/1",
							"host": ["{{base_url}}"],
							"path": ["profile", "bank-details", "1"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "KYC",
			"item": [
				{
					"name": "Submit KYC Documents",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "aadhar_number",
									"value": "123456789012",
									"description": "12-digit Aadhaar number",
									"type": "text"
								},
								{
									"key": "aadhar_photo",
									"description": "Aadhaar card front photo (JPEG/PNG, max 2MB)",
									"type": "file",
									"src": []
								},
								{
									"key": "aadhar_back_photo",
									"description": "Aadhaar card back photo (JPEG/PNG, max 2MB)",
									"type": "file",
									"src": []
								},
								{
									"key": "pan_number",
									"value": "ABCDE1234F",
									"description": "10-character PAN number",
									"type": "text"
								},
								{
									"key": "pan_photo",
									"description": "PAN card photo (JPEG/PNG, max 2MB)",
									"type": "file",
									"src": []
								},
								{
									"key": "bank_account_number",
									"value": "1234567890123456",
									"description": "Bank account number",
									"type": "text"
								},
								{
									"key": "bank_ifsc_code",
									"value": "SBIN0001234",
									"description": "Bank IFSC code",
									"type": "text"
								},
								{
									"key": "bank_name",
									"value": "State Bank of India",
									"description": "Bank name",
									"type": "text"
								},
								{
									"key": "account_holder_name",
									"value": "John Doe",
									"description": "Account holder name",
									"type": "text"
								},
								{
									"key": "passbook_photo",
									"description": "Bank passbook photo (JPEG/PNG, max 2MB)",
									"type": "file",
									"src": []
								},
								{
									"key": "profile_photo",
									"description": "User profile photo (JPEG/PNG, max 2MB)",
									"type": "file",
									"src": []
								},
								{
									"key": "working_city",
									"value": "Mumbai",
									"description": "Current working city",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/kyc/submit",
							"host": ["{{base_url}}"],
							"path": ["kyc", "submit"]
						},
						"description": "Agents and Leaders can submit their KYC documents for verification. All fields are mandatory including photos for Aadhaar front and back, PAN, passbook and profile."
					},
					"response": [
						{
							"name": "KYC Submitted Successfully",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": []
								},
								"url": {
									"raw": "{{base_url}}/kyc/submit",
									"host": ["{{base_url}}"],
									"path": ["kyc", "submit"]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"KYC documents submitted successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"user_id\": 2,\n        \"aadhar_number\": \"123456789012\",\n        \"aadhar_photo\": \"kyc/aadhar/aadhar_123456789012.jpg\",\n        \"pan_number\": \"ABCDE1234F\",\n        \"pan_photo\": \"kyc/pan/pan_ABCDE1234F.jpg\",\n        \"bank_account_number\": \"1234567890123456\",\n        \"bank_ifsc_code\": \"SBIN0001234\",\n        \"bank_name\": \"State Bank of India\",\n        \"account_holder_name\": \"John Doe\",\n        \"passbook_photo\": \"kyc/passbook/passbook_123456.jpg\",\n        \"profile_photo\": \"kyc/profile/profile_user2.jpg\",\n        \"working_city\": \"Mumbai\",\n        \"kyc_status\": \"pending\",\n        \"submitted_at\": \"2025-08-25T17:30:00.000000Z\",\n        \"created_at\": \"2025-08-25T17:30:00.000000Z\",\n        \"updated_at\": \"2025-08-25T17:30:00.000000Z\",\n        \"user\": {\n            \"id\": 2,\n            \"name\": \"Agent User\",\n            \"mobile\": \"9876543210\",\n            \"role\": \"agent\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Get My KYC Status",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/kyc/my-kyc",
							"host": ["{{base_url}}"],
							"path": ["kyc", "my-kyc"]
						},
						"description": "Get current user's KYC status and details. Only for agents and leaders."
					},
					"response": []
				},
				{
					"name": "Get All KYC Submissions (Admin)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/kyc/all?status=pending&role=agent&per_page=20",
							"host": ["{{base_url}}"],
							"path": ["kyc", "all"],
							"query": [
								{
									"key": "status",
									"value": "pending",
									"description": "Filter by status: pending, approved, rejected"
								},
								{
									"key": "role",
									"value": "agent",
									"description": "Filter by role: agent, leader"
								},
								{
									"key": "date_from",
									"value": "2025-08-01",
									"description": "Filter from date",
									"disabled": true
								},
								{
									"key": "date_to",
									"value": "2025-08-31",
									"description": "Filter to date",
									"disabled": true
								},
								{
									"key": "search",
									"value": "John",
									"description": "Search by name, mobile, Aadhaar, PAN, etc.",
									"disabled": true
								},
								{
									"key": "per_page",
									"value": "20",
									"description": "Items per page (1-100)"
								}
							]
						},
						"description": "Admin can view all KYC submissions with filtering options."
					},
					"response": []
				},
				{
					"name": "Get Pending KYCs (Admin)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/kyc/pending",
							"host": ["{{base_url}}"],
							"path": ["kyc", "pending"]
						},
						"description": "Get all pending KYC submissions for admin review."
					},
					"response": []
				},
				{
					"name": "Get KYC Details (Admin)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/kyc/1",
							"host": ["{{base_url}}"],
							"path": ["kyc", "1"]
						},
						"description": "Get detailed KYC information including all documents for admin review."
					},
					"response": []
				},
				{
					"name": "Approve KYC (Admin)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"approved\",\n    \"remark\": \"All documents verified successfully\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/kyc/1/review",
							"host": ["{{base_url}}"],
							"path": ["kyc", "1", "review"]
						},
						"description": "Admin approves KYC after verifying all documents."
					},
					"response": [
						{
							"name": "KYC Approved",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"approved\",\n    \"remark\": \"All documents verified successfully\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/kyc/1/review",
									"host": ["{{base_url}}"],
									"path": ["kyc", "1", "review"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"KYC approved successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"user_id\": 2,\n        \"kyc_status\": \"approved\",\n        \"approved_at\": \"2025-08-25T18:00:00.000000Z\",\n        \"remark\": \"All documents verified successfully\",\n        \"user\": {\n            \"id\": 2,\n            \"name\": \"Agent User\",\n            \"mobile\": \"9876543210\",\n            \"role\": \"agent\"\n        },\n        \"approvedBy\": {\n            \"id\": 1,\n            \"name\": \"Admin User\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Reject KYC (Admin)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"rejected\",\n    \"remark\": \"Aadhaar photo is not clear, please resubmit with better quality\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/kyc/1/review",
							"host": ["{{base_url}}"],
							"path": ["kyc", "1", "review"]
						},
						"description": "Admin rejects KYC with reason for rejection."
					},
					"response": [
						{
							"name": "KYC Rejected",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"rejected\",\n    \"remark\": \"Aadhaar photo is not clear, please resubmit\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/kyc/1/review",
									"host": ["{{base_url}}"],
									"path": ["kyc", "1", "review"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"KYC rejected successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"user_id\": 2,\n        \"kyc_status\": \"rejected\",\n        \"approved_at\": \"2025-08-25T18:00:00.000000Z\",\n        \"remark\": \"Aadhaar photo is not clear, please resubmit with better quality\",\n        \"user\": {\n            \"id\": 2,\n            \"name\": \"Agent User\",\n            \"mobile\": \"9876543210\",\n            \"role\": \"agent\"\n        },\n        \"approvedBy\": {\n            \"id\": 1,\n            \"name\": \"Admin User\"\n        }\n    }\n}"
						}
					]
				}
			]
		},
		{
			"name": "Settings",
			"item": [
				{
					"name": "Get App Settings (All Users)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/settings",
							"host": ["{{base_url}}"],
							"path": ["settings"]
						},
						"description": "Get all active app settings for agents and team leaders. This includes app version, download links, feature flags, and other configuration data."
					},
					"response": [
						{
							"name": "Get App Settings Success",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{auth_token}}", "type": "string"}]
								},
								"method": "GET",
								"header": [{"key": "Accept", "value": "application/json"}],
								"url": {
									"raw": "{{base_url}}/settings",
									"host": ["{{base_url}}"],
									"path": ["settings"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"App settings retrieved successfully\",\n    \"data\": {\n        \"app_version\": {\n            \"value\": \"1.0.0\",\n            \"description\": \"Current version of the mobile application\"\n        },\n        \"app_name\": {\n            \"value\": \"AXN Group\",\n            \"description\": \"Application name\"\n        },\n        \"app_download_link_android\": {\n            \"value\": \"https://play.google.com/store/apps/details?id=com.axngroup\",\n            \"description\": \"Google Play Store download link for Android app\"\n        },\n        \"app_download_link_ios\": {\n            \"value\": \"https://apps.apple.com/app/axngroup\",\n            \"description\": \"App Store download link for iOS app\"\n        },\n        \"force_update\": {\n            \"value\": false,\n            \"description\": \"Whether to force users to update the app\"\n        },\n        \"minimum_version\": {\n            \"value\": \"1.0.0\",\n            \"description\": \"Minimum required version of the app\"\n        },\n        \"maintenance_mode\": {\n            \"value\": false,\n            \"description\": \"Enable/disable maintenance mode for the app\"\n        },\n        \"support_email\": {\n            \"value\": \"support@axngroup.com\",\n            \"description\": \"Support email address\"\n        },\n        \"support_phone\": {\n            \"value\": \"+91-1234567890\",\n            \"description\": \"Support phone number\"\n        },\n        \"max_withdrawal_amount\": {\n            \"value\": 50000,\n            \"description\": \"Maximum withdrawal amount allowed\"\n        },\n        \"min_withdrawal_amount\": {\n            \"value\": 100,\n            \"description\": \"Minimum withdrawal amount required\"\n        },\n        \"app_features\": {\n            \"value\": {\n                \"shop_onboarding\": true,\n                \"bank_transfers\": true,\n                \"reward_passes\": true,\n                \"kyc_verification\": true,\n                \"wallet_management\": true\n            },\n            \"description\": \"Available features in the app\"\n        },\n        \"announcement\": {\n            \"value\": \"Welcome to AXN Group! Start onboarding shops and earn rewards.\",\n            \"description\": \"General announcement message for users\"\n        },\n        \"show_announcement\": {\n            \"value\": true,\n            \"description\": \"Whether to show announcement in the app\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Admin - Get All Settings",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/settings/all?page=1&per_page=20",
							"host": ["{{base_url}}"],
							"path": ["admin", "settings", "all"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number"
								},
								{
									"key": "per_page",
									"value": "20",
									"description": "Items per page (1-100)"
								}
							]
						},
						"description": "Admin can view all settings with pagination including inactive ones."
					},
					"response": []
				},
				{
					"name": "Admin - Save Single Setting",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"key\": \"app_version\",\n    \"value\": \"1.1.0\",\n    \"type\": \"string\",\n    \"description\": \"Updated application version\",\n    \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/settings/save",
							"host": ["{{base_url}}"],
							"path": ["admin", "settings", "save"]
						},
						"description": "Admin can create or update a single setting. Type can be: string, integer, boolean, json. If type is not provided, it will be auto-detected."
					},
					"response": [
						{
							"name": "Setting Saved Successfully",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{admin_token}}", "type": "string"}]
								},
								"method": "POST",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"key\": \"app_version\",\n    \"value\": \"1.1.0\",\n    \"description\": \"Updated application version\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/admin/settings/save",
									"host": ["{{base_url}}"],
									"path": ["admin", "settings", "save"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"Setting saved successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"key\": \"app_version\",\n        \"value\": \"1.1.0\",\n        \"type\": \"string\",\n        \"description\": \"Updated application version\",\n        \"is_active\": true\n    }\n}"
						}
					]
				},
				{
					"name": "Admin - Save Multiple Settings",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"settings\": [\n        {\n            \"key\": \"app_version\",\n            \"value\": \"1.2.0\",\n            \"type\": \"string\",\n            \"description\": \"Latest app version\",\n            \"is_active\": true\n        },\n        {\n            \"key\": \"force_update\",\n            \"value\": true,\n            \"type\": \"boolean\",\n            \"description\": \"Force users to update to latest version\",\n            \"is_active\": true\n        },\n        {\n            \"key\": \"max_withdrawal_amount\",\n            \"value\": 75000,\n            \"type\": \"integer\",\n            \"description\": \"Increased maximum withdrawal limit\",\n            \"is_active\": true\n        },\n        {\n            \"key\": \"app_features\",\n            \"value\": {\n                \"shop_onboarding\": true,\n                \"bank_transfers\": true,\n                \"reward_passes\": true,\n                \"kyc_verification\": true,\n                \"wallet_management\": true,\n                \"new_feature\": false\n            },\n            \"type\": \"json\",\n            \"description\": \"Updated feature configuration\",\n            \"is_active\": true\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/settings/save-multiple",
							"host": ["{{base_url}}"],
							"path": ["admin", "settings", "save-multiple"]
						},
						"description": "Admin can create or update multiple settings at once. Useful for batch configuration updates."
					},
					"response": []
				},
				{
					"name": "Admin - Toggle Setting Status",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"key\": \"maintenance_mode\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/settings/toggle",
							"host": ["{{base_url}}"],
							"path": ["admin", "settings", "toggle"]
						},
						"description": "Admin can toggle a setting's active status between true and false. Useful for quickly enabling/disabling features."
					},
					"response": [
						{
							"name": "Setting Toggled Successfully",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{admin_token}}", "type": "string"}]
								},
								"method": "POST",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"key\": \"maintenance_mode\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/admin/settings/toggle",
									"host": ["{{base_url}}"],
									"path": ["admin", "settings", "toggle"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"Setting has been activated successfully\",\n    \"data\": {\n        \"key\": \"maintenance_mode\",\n        \"is_active\": true\n    }\n}"
						}
					]
				},
				{
					"name": "Admin - Delete Setting",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"key\": \"old_setting_key\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/settings/delete",
							"host": ["{{base_url}}"],
							"path": ["admin", "settings", "delete"]
						},
						"description": "Admin can permanently delete a setting. Use with caution as this action cannot be undone."
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin User Management",
			"item": [
				{
					"name": "Toggle User Block/Unblock",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": {{user_id}}\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/toggle-user-block",
							"host": ["{{base_url}}"],
							"path": ["admin", "toggle-user-block"]
						},
						"description": "Admin can toggle user's block status. If user is currently unblocked, they will be blocked and vice versa. Blocked users cannot access the application."
					},
					"response": [
						{
							"name": "User Blocked Successfully",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{admin_token}}", "type": "string"}]
								},
								"method": "POST",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"user_id\": 3\n}"
								},
								"url": {
									"raw": "{{base_url}}/admin/toggle-user-block",
									"host": ["{{base_url}}"],
									"path": ["admin", "toggle-user-block"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"User has been blocked successfully\",\n    \"data\": {\n        \"user_id\": 3,\n        \"name\": \"Sales Agent\",\n        \"email\": \"agent@example.com\",\n        \"is_blocked\": true,\n        \"action\": \"blocked\"\n    }\n}"
						},
						{
							"name": "User Unblocked Successfully",
							"originalRequest": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{admin_token}}", "type": "string"}]
								},
								"method": "POST",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"user_id\": 3\n}"
								},
								"url": {
									"raw": "{{base_url}}/admin/toggle-user-block",
									"host": ["{{base_url}}"],
									"path": ["admin", "toggle-user-block"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [{"key": "Content-Type", "value": "application/json"}],
							"body": "{\n    \"success\": true,\n    \"message\": \"User has been unblocked successfully\",\n    \"data\": {\n        \"user_id\": 3,\n        \"name\": \"Sales Agent\",\n        \"email\": \"agent@example.com\",\n        \"is_blocked\": false,\n        \"action\": \"unblocked\"\n    }\n}"
						}
					]
				}
			]
		},
		{
			"name": "Admin Dashboard",
			"item": [
				{
					"name": "Switch to Admin Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set('auth_token', pm.collectionVariables.get('admin_token'));",
									"console.log('Switched to Admin token');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": ["{{base_url}}"],
							"path": ["auth", "profile"]
						}
					}
				},
				{
					"name": "Switch to Leader Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set('auth_token', pm.collectionVariables.get('leader_token'));",
									"console.log('Switched to Leader token');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": ["{{base_url}}"],
							"path": ["auth", "profile"]
						}
					}
				},
				{
					"name": "Switch to Agent Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set('auth_token', pm.collectionVariables.get('agent_token'));",
									"console.log('Switched to Agent token');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": ["{{base_url}}"],
							"path": ["auth", "profile"]
						}
					}
				},
				{
					"name": "Get Admin Dashboard Overview",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/shops/admin/daily-reports?days=7",
							"host": ["{{base_url}}"],
							"path": ["shops", "admin", "daily-reports"],
							"query": [
								{
									"key": "days",
									"value": "7"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Workflow Testing",
			"item": []
		}
						{
							"name": "1. Agent Login",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const responseJson = pm.response.json();",
											"    if (responseJson.success && responseJson.data.token) {",
											"        pm.collectionVariables.set('agent_token', responseJson.data.token);",
											"        pm.collectionVariables.set('auth_token', responseJson.data.token);",
											"        pm.collectionVariables.set('user_id', responseJson.data.user.id);",
											"        console.log('✅ Step 1: Agent logged in successfully');",
											"    }",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"mobile\": \"7777777777\",\n    \"password\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login/agent",
									"host": ["{{base_url}}"],
									"path": ["auth", "login", "agent"]
								}
							}
						},
						{
							"name": "2. Create Shop Onboarding",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 201) {",
											"    const responseJson = pm.response.json();",
											"    if (responseJson.success && responseJson.data.id) {",
											"        pm.collectionVariables.set('shop_id', responseJson.data.id);",
											"        console.log('✅ Step 2: Shop onboarding created with ID:', responseJson.data.id);",
											"    }",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{agent_token}}", "type": "string"}]
								},
								"method": "POST",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"customer_name\": \"Test Shop Owner\",\n    \"customer_mobile\": \"9876543210\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/shops",
									"host": ["{{base_url}}"],
									"path": ["shops"]
								}
							}
						},
						{
							"name": "3. Admin Login",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const responseJson = pm.response.json();",
											"    if (responseJson.success && responseJson.data.token) {",
											"        pm.collectionVariables.set('admin_token', responseJson.data.token);",
											"        pm.collectionVariables.set('auth_token', responseJson.data.token);",
											"        console.log('✅ Step 3: Admin logged in successfully');",
											"    }",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"mobile\": \"9999999999\",\n    \"password\": \"password\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login/admin",
									"host": ["{{base_url}}"],
									"path": ["auth", "login", "admin"]
								}
							}
						},
						{
							"name": "4. Admin Direct Approval (Triggers Payout)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    console.log('🎉 Step 4: Admin approved directly - PAYOUT TRIGGERED!');",
											"    console.log('No leader approval needed - streamlined workflow');",
											"    console.log('Agent will receive onboarding payout based on monthly slab');",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{admin_token}}", "type": "string"}]
								},
								"method": "PUT",
								"header": [{"key": "Content-Type", "value": "application/json"}],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"approved\",\n    \"admin_remark\": \"Direct admin approval - no leader step needed\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/shops/admin/{{shop_id}}/approval",
									"host": ["{{base_url}}"],
									"path": ["shops", "admin", "{{shop_id}}", "approval"]
								}
							}
						},
						{
							"name": "5. Check Agent Payout History",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const responseJson = pm.response.json();",
											"    if (responseJson.success) {",
											"        console.log('✅ Step 5: Payout history retrieved');",
											"        console.log('Total Payout:', responseJson.data.summary.total_payout);",
											"        console.log('This Month Payout:', responseJson.data.summary.this_month_payout);",
											"    }",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [{"key": "token", "value": "{{agent_token}}", "type": "string"}]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/wallet/payouts",
									"host": ["{{base_url}}"],
									"path": ["wallet", "payouts"]
								}
							}
						}
					]
				}
			]
		}
	]
}